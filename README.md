# snort-assistant
Koreatech CSE 2020 Graduation Project.

## TODO
### UI
- [X] 왼쪽 영역에 기능 1, 2, 3 선택할 수 있는 타일 형태의 큰 버튼.
- [X] 오른쪽 영역에 각 기능에 대한 레이아웃 표시.
- [X] 스노트 켜고 끄기
  - [ ] 터미널 아웃풋을 읽을 수 있는 윈도우 구현?
- [X] 왼쪽 영역에 스노트 상태
- [X] 스노트 로그 읽으려면 루트권한 필요. 검사 및 알림 루틴 만들기.
  - [ ] 루트 비밀번호를 받아서 직접 실행시킬 수 있나? 보안 위협이 되진 않을까?
- [X] 스노트 실행상태 스레드로 실시간 검사.
- [X] 애플리케이션 외부에서 스노트가 실행됐을 경우 버튼 비활성화
  - [ ] 아니면 그냥 pkill 명령어로 다 종료시키는 것도? 근데 이건 root일때만 가능하므로..

### Feature 1. Pcap Log Parser.
- [X] 로그 읽어서 리스트나 테이블에 표시 및 차트를 활용한 통계 제공.
- [X] 리스트나 테이블에 표시한 후 버튼을 눌러서 호출하면 차트로 표시.
- [X] 차트는 패킷의 소스 어드레스, 패킷의 유형, 수신 날짜 빈도수로 정렬하여 파이차트로 표시.
  - [X] 차트에 몇개나 보여줄지 그 리밋을 설정할 수 있는 폼 스피너로 구현.
  - [X] 소스 어드레스가 없는("-") 패킷은 제외하고 계산.
  - [ ] DatePicker를 이용하여 수신 날짜를 지정하여 정렬할 수 있도록.
- [X] 기본적인 헤더(src, dst) 말고도 페이로드를 팝업 윈도우로 보여줄 수 있도록
  - [ ] 단순 16진수 나열 말고 무엇을 할 수 있는지?
  - [ ] 여러개의 팝업 윈도우로 여러 페이로드를 비교할 수 있도록?
- [X] UI 조정 필요. 화면이 너무 작다. fxml에서 조정할것.
  - [X] 파이차트랑 라디오 옵션이 화면 하단까지 늘어나도록 조정할것.
- [X] 시각 표시 필요. RawPacket 클래스의 Timeval 활용할 수 있을것.
  - [X] 시각 포맷 좀 알아보기.
  - [X] 표시 중 문제가 초 단위로 나뉘니까 차트의 파이가 너무 많아짐. 최소 단위(분, 시, 일)를 정해야 할듯.
- 패킷 종류에 따라 정보를 잘 뽑아내서 저장할 수 있도록 핸들러 적용 필요.
  - [X] 포트번호(SSL: 443) 구분하여 따로 처리. 아니 그냥 포트번호는 유명한 포트는 비교해서 필터링해서 표시하는것도.
- [X] 기본적인 로그 필터링 기능 구현.
  - [X] 여러 필터를 추가한 후에 적용 버튼 눌러서 적용하도록
- PcapLog 클래스에 필드를 딱 지정해두지 않고 HashMap 등으로 유동적으로 필드명과 값을 저장할 수 있게 하려면? >> 정확히는, 이에 대해 팩토리를 생성하려면 어떻게?? 패킷 별로 필드 차이가 많은지 함 보자
- [ ] 스노트 로그를 실시간으로 읽을 수 있는 방법이 있나?(root 권한 등)
- [ ] 컨텍스트 메뉴를 활용해서 해당 ip나 프로토콜을 차단
- [X] 패킷 로딩 비동기 처리. 얼마나 읽어가는지 프로그레스 표시.
- [X] 작업진행중에는 해당 그룹의 노드들 전부 비활성화 및 재활성화.

### Feature 2. Rule Parser.
- [X] 룰 읽어서 리스트나 테이블에 표시
  - [X] 헤더는 테이블에 표현, 바디는 페이로드때처럼 버튼 컬럼에서 호출하는 것으로 대체
- [X] 수정, 편집 후 저장 기능
  - [X] 룰 옵션(바디)도 있는 필드만 수정할 수 있는게 아니라 필드를 추가/삭제 가능하도록!
  - [X] 룰 바디의 데이터에 세미콜론이 들어가서 데이터 분리에 문제가 생김. 애초에 세미콜론 포함하지 않도록 조정.
- [ ] 편집 시 헤더의 action이나 direction같은 입력값이 딱 지정되는 필드의 경우 드롭박스같은걸로 설정? 팩토리를 수정해볼것.
- [ ] 환경변수($EXTERNAL_NET)를 읽어서 반영할 수 있도록?
  - [ ] 그러기 위해선 스노트 설정파일을 읽을 수 있어야 할 것. 이런 설정은 기본적으로 스노트 설정 메뉴에서 처리하도록 하자.
- [X] 정규표현식을 활용하여 파싱을 좀 더 편하게 할수도.
- [ ] 여러 룰 파일을 열 수 있는 Accordion 컨테이너 활용?
- [X] 컨텍스트 메뉴에서 한 행 통째로 삭제하는 기능

### Feature 3. Snort Controller.
- [ ] 스노트 관련 설정 조사, 조작기능 추가.
- [ ] 스노트 configurations 조작할 수 있도록?

## Resources
Icons made by [itim2101](https://www.flaticon.com/authors/itim2101)
Icons made by [Kiranshastry](https://www.flaticon.com/free-icon/rules_760172)
Icons made by [srip](https://www.flaticon.com/authors/srip)
